<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Safe Hacker Portal — Safe Places</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <style>
    body{margin:0;background:#000;color:#0f0;font-family:"Courier New",monospace}
    .navbar{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#111;border-bottom:2px solid #0f0;box-shadow:0 0 12px #0f0}
    nav a{color:#0f0;text-decoration:none;margin-left:10px;padding:6px 10px;border:1px solid #0f0} nav a:hover{background:#0f0;color:#000}
    main{max-width:960px;margin:16px auto;padding:0 16px}
    .panel{background:#111;border:1px solid #0a0;border-radius:8px;padding:16px;box-shadow:0 0 10px #0f0a}
    #map{height:60vh;width:100%;border:1px solid #0a0;border-radius:8px}
    .btn{border:1px solid #0f0;color:#0f0;background:none;padding:8px 12px;cursor:pointer} .btn:hover{background:#0f0;color:#000}
  </style>
</head>
<body>
  <header class="navbar">
    <div>⚡ Safe Hacker Portal ⚡</div>
    <nav><a href="index.html">Dashboard</a><a href="missions.html">Missions</a><a href="scan.html">Quick scan</a><a href="hide.html">Safe places</a><a href="tools.html">Tools</a><a href="hacked.html">Hacked</a></nav>
  </header>

  <main>
    <section class="panel">
      <h2>Safe places</h2>
      <div id="map"></div>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" onclick="locateMe()">Center on my location</button>
        <button class="btn" onclick="addSafePoints()">Add nearby safe points</button>
        <button class="btn" onclick="clearAll()">Clear markers</button>
      </div>
    </section>
  </main>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map=L.map('map').setView([17.3850,78.4867],12); // Hyderabad default
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'© OpenStreetMap'}).addTo(map);
    let userMarker=null; const safeMarkers=[];
    function locateMe(){
      if(!navigator.geolocation){ alert('Geolocation not supported.'); return; }
      navigator.geolocation.getCurrentPosition((pos)=>{
        const {latitude,longitude}=pos.coords;
        if(userMarker) map.removeLayer(userMarker);
        userMarker=L.marker([latitude,longitude]).addTo(map).bindPopup('You are here').openPopup();
        map.setView([latitude,longitude],14);
      },()=>alert('Could not get location.'));
    }
    function addSafePoints(){
      const c=map.getCenter(); const deltas=[[0.01,0.01],[-0.01,0.01],[0.01,-0.01],[-0.01,-0.01]];
      deltas.forEach(([dx,dy],i)=>{ const m=L.marker([c.lat+dx,c.lng+dy]).addTo(map).bindPopup('Safe point '+(i+1)).openPopup(); safeMarkers.push(m); });
    }
    function clearAll(){ safeMarkers.forEach(m=>map.removeLayer(m)); safeMarkers.length=0; if(userMarker){ map.removeLayer(userMarker); userMarker=null; } }
  </script>
</body>
</html>